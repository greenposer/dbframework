Ниже опишу простой подход, который использовал сам. Когда таблиц много, он начинает тормозить, и никакие индексы не помогают. Думаю, тут, если внимательно задуматься, можно хорошо улучшить производительность. И это - хороший плюс для твоей дипломной работы.

# Просто смотрим на таблицу #

Когда юзер просто глядит на таблицу таблица1 - запрос будет такой:
```
SELECT таблица1.*, COUNT(внешняя_таблица1.id), COUNT(внешняя_таблица2.id)
FROM таблица1, внешняя_таблица1, внешняя_таблица2
WHERE таблица1.id=внешняя_таблица1.внешний_ключ AND
      таблица1.id=внешняя_таблица2.внешний_ключ
GROUP BY таблица1.id;
```

# Переходм по ссылке #

Далее, пусть юзер кликнул на одном из заголовков полей таблицы1. Этот запрос привел его в таблицу2:

```
SELECT таблица2.*, COUNT(внешняя_таблица_к_таблице2_1.id), COUNT(внешняя_таблица_к_таблице2_2.id)
FROM таблица2, таблица1, внешняя_таблица_к_таблице2_1, внешняя_таблица_к_таблице2_2
WHERE таблица2.id = таблица1.поле_куда_кликали AND
      таблица2.id=внешняя_таблица_к_таблице2_1.внешний_ключ AND
      таблица2.id=внешняя_таблица_к_таблице2_2.внешний_ключ
GROUP BY таблица2.id;
```

Комментарии:
  1. Первое условие в WHERE части будет, разумеется, другим, если юзер кликал по "входящей" ссылке, а не по "исходящей".
  1. **Важно** обратить особое внимание на тот случай, когда одна из "внешних_таблиц_к\_таблице2" - это наша предыдущая таблица1 (т.е. когда кликали по "исхоящей" ссылке). В этом случае надо следить, чтобы она не появилась в части "FROM" один лишний раз (хотя в общем случае повторение таблиц в части FROM допускается).
  1. Тут же в часть WHERE будут добавляться условия вида: таблица1.id=N OR таблица1.id=M - если юзер выбирал конкретные записи "галочками". Кстати, в этом случае таблицу1 можно удалить из части FROM!

**И так далее**

В общем, при каждом новом клике юзера мы делаем следующее:
  1. Переделываем часть SELECT под новую таблицу.
  1. Приписываем к SELECT, FROM и WHERE таблицы, в которых есть "входящие ссылки" на эту таблицу (вместо аналогичных таблиц для предыдущей таблицы).
  1. В части WHERE прописываем связь этой новой таблицы с предыдущей (т.е. приписывем ее к уже существующим связям нескольких предыдущих таблиц).
  1. Группировку делаем по последней таблице.

Для трех таблиц получится примерно следующее:
```
SELECT таблица3.* + всякие COUNT'ы
FROM таблица3, таблица2, таблица1 + всякие внешние таблицы
WHERE таблица3.внешний_ключ = таблица2.id AND
      таблица2.id = таблица1.поле_куда_кликали + всякие внешние таблицы
GROUP BY таблица3.id;
```

# Заключительные замечания #
  1. Если захотим сделать выбор строк из таблицы по предикату вместо "кликанья по галочкам" - то в этом запросе просто в часть WHERE допишется этот предикат.
  1. Само собой, сортировки.
  1. Всем таблицам удобно давать alias'ы вида t1,t2,t3, и потом пользоваться ими в FROM, WHERE и GROUP BY.

PS. Если что-то из написанного выше кажется и так понятным и не достойным такого детального описания - не стоит его отсюда удалять. Пусть лежит тут и не засоряет мне глову. Вернусь к нему, когда подзабуду.